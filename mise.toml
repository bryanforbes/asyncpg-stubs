[settings]
experimental = true
lockfile = true

[settings.python]
venv_stdlib = true

[tools]
cargo-binstall = "1.17.5"
"cargo:git-cliff" = "2.12.0"
poetry = "2.3.2"
# 3.9 is after 3.10 so the virtualenv gets created with 3.10 by default
python = ["3.10", "3.9", "3.11", "3.12", "3.13", "3.14"]

[env]
_.python.venv = { path = ".venv", create = true }

[hooks]
postinstall = 'poetry install --all-extras'

[tasks.stubtest]
description = "Run stubtest against asyncpg"
run = 'poetry run stubtest asyncpg --allowlist=stubtest-allow.txt'
